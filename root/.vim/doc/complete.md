## omnicomplete

在没有插件的情况下，Vim 提供了一些基础的代码自动补全选项。其中最常用的可能是 Omnicomplete 和关键字补全。

1. **Omnicomplete（全能补全）**: Omnicomplete 可以对诸如 C/C++, Python, Java 等编程语言进行上下文相关的补全。使用 `<C-x><C-o>`（按住 `Ctrl` 键然后依次按 `x` 和 `o`）来触发 Omnicomplete。

2. **关键字补全**: 使用 `<C-n>` 和 `<C-p>` 可以进行关键字补全。这个功能会查找当前打开的所有文件，找到与你已经键入的文本匹配的单词。

3. **行补全**: 使用 `<C-x><C-l>` 可以补全整行。这在编写具有重复模式的代码时非常有用。

4. **文件名补全**: `<C-x><C-f>` 可以用来补全文件名。

5. **字典补全**: 通过在 `.vimrc` 文件中设置字典，你可以使用 `<C-x><C-k>` 来进行字典补全。

6. **标签补全**: 如果你有一个标签文件（通常由 `ctags` 程序生成），你可以使用 `<C-x><C-]>` 来进行标签补全。

例如，在 `.vimrc` 中为 Python 设置 Omnicomplete：

```vim
autocmd FileType python setlocal omnifunc=pythoncomplete#Complete
```

虽然 Vim 的内建补全功能相对较弱，但是它们是可用的，并且在没有插件的情况下也能提供一定程度的自动补全支持。如果你需要更高级的功能，那通常需要依赖外部插件，比如 `YouCompleteMe` 或 `Coc.nvim`。


`filetype plugin on` 通常是启用 Omnicomplete（全能补全）所需的。这个设置不仅激活 Vim 的文件类型检测机制，还启用了针对各种文件类型的插件，这其中就包括 Omnicomplete 功能。

在你的 `.vimrc` 文件里，你可能会看到这样的设置：

```vim
filetype plugin on
```

或者更全面地：

```vim
filetype plugin indent on
```

这样也会启用针对不同文件类型的自动缩进。

设置了 `filetype plugin on` 之后，Vim 会根据当前文件的类型来加载相应的插件。这些插件通常会设置一些特定于该文件类型的行为，比如补全函数、语法高亮等。对于像 Python 这样的编程语言，这通常也会设置一个适当的 `omnifunc`（全能补全函数），从而使得 `<C-x><C-o>` 可以工作。

所以，如果你想用 Omnicomplete，确保在 `.vimrc` 文件中启用了 `filetype plugin on` 是一个好主意。

## completefunc thesaurusfunc和omnicomplete

在Vim中，`completefunc`、`thesaurusfunc`和`omnifunc`是三种不同的补全功能，它们提供了不同的补全机制和用途。以下是每种功能的概述和它们之间的主要区别：

### 1. `completefunc` (或称为`'completefunc'`)

- **用途**：`completefunc`是用户定义的补全函数，通常用于实现特定类型的补全，例如基于项目或文件类型的自定义补全逻辑。它不依赖于Vim的内置补全机制，而是允许用户通过脚本自定义补全行为。
- **触发方式**：通过按下`<C-x><C-u>`（在插入模式下）手动触发，或者通过脚本自动触发。
- **自定义性**：高。用户可以完全自定义补全逻辑和数据来源。

### 2. `thesaurusfunc` (或称为`'thesaurusfunc'`)

- **用途**：`thesaurusfunc`是用户定义的查找同义词的函数，主要用于在编辑文本时查找词汇的同义词。这个功能特别适合写作和编辑任务，帮助用户寻找词汇的变体或替代词。
- **触发方式**：通常通过特定的命令或快捷键触发（如用户自定义的命令或快捷键），并不像`completefunc`或`omnifunc`那样直接与代码补全集成。
- **自定义性**：非常高。用户需要提供完整的同义词查找逻辑，包括如何检索和显示同义词。

### 3. `omnifunc` (或称为`'omnifunc'`)

- **用途**：`omnifunc`提供了一种上下文相关的补全机制，主要用于编程语言的语法和代码补全。Vim本身或通过插件可以为不同的编程语言提供`omnifunc`，以支持变量名、函数名等的自动补全。
- **触发方式**：通过按下`<C-x><C-o>`（在插入模式下）手动触发。许多现代Vim配置和IDE风格插件也可能提供更自动化的触发方式。
- **自定义性**：中等。虽然`omnifunc`通常由插件或Vim的语言支持提供，但用户仍然可以指定自定义的函数来覆盖默认行为或增加对新语言的支持。

**总结**：这三种补全函数各有其用途和特点。`completefunc`提供了一种完全自定义的补全机制，适用于特定的补全需求；`thesaurusfunc`专注于文本编辑中的同义词查找；而`omnifunc`则是为编程和代码编辑提供上下文相关的补全功能。用户可以根据具体的编辑需求和偏好来选择和配置这些功能。
